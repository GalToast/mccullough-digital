{"version":3,"file":"blocks/hero/editor.js","mappings":"mBAAA,MAAM,EAA+BA,OAAW,GAAU,OCApD,EAA+BA,OAAW,GAAQ,KCAlD,EAA+BA,OAAW,GAAW,QCArD,EAA+BA,OAAW,GAAQ,KCAlD,EAA+BA,OAAW,GAAe,YCAzD,EAA+BA,OAAW,GAAc,W,s7ECAxD,EAA+BA,OAAwB,gB,gBCsB7D,MAAMC,EAAyD,QAA1CC,EAAGC,GAAUC,YAAYC,UAAUC,eAAO,IAAAJ,EAAAA,EAAI,GAC7DK,EAA6D,QAA5CC,EAAGL,GAAUC,YAAYK,YAAYH,eAAO,IAAAE,EAAAA,EAAI,GACjEE,EAA6D,QAA5CC,EAAGR,GAAUC,YAAYQ,YAAYN,eAAO,IAAAK,EAAAA,GAC5DE,EAAAA,EAAAA,IAAG,kBAAmB,sBACvBC,EAA6D,QAA5CC,EAAGZ,GAAUC,YAAYY,YAAYV,eAAO,IAAAS,EAAAA,EAAI,GACjEE,EAA+E,QAArDC,EAAGf,GAAUC,YAAYe,qBAAqBb,eAAO,IAAAY,EAAAA,GAC9EL,EAAAA,EAAAA,IAAG,oBAAqB,sBACzBO,EAA+E,QAArDC,EAAGlB,GAAUC,YAAYkB,qBAAqBhB,eAAO,IAAAe,EAAAA,EAAI,cACnFE,GAAsB,KAIxBC,aACIC,cAAeC,EAAoB,CAC/B,eACA,iBACA,YACA,eACA,aACA,aACA,kBACA,6BAEJC,SAAUC,EAAe,CACrB,CACI,eACA,CACIC,MAAO,EACPC,UAAW,iBACXC,aAAalB,EAAAA,EAAAA,IAAG,qBAAsB,sBACtCmB,QAAS/B,IAGjB,CACI,iBACA,CACI8B,aAAalB,EAAAA,EAAAA,IAAG,uBAAwB,sBACxCmB,QAASzB,IAGjB,CACI,4BACA,CACIK,WAAYF,EACZM,WAAYF,KAIxBmB,aAAcC,GAAmB,GACjC,CAAC,GACL/B,EAEEgC,EAAsBzB,GAE5B0B,EAAAA,EAAAA,mBAAkBjC,EAAAA,KAAe,IAC1BA,EACHkC,IAAAA,EAAK,WAAEjC,EAAU,cAAEkC,EAAa,SAAEC,IAC9B,MAAM,SACFlC,EAAQ,WACRI,EAAU,WACVG,EAAU,WACVI,EAAU,oBACVG,EAAmB,oBACnBG,EAAmB,YACnBkB,EAAW,aACXC,EAAY,aACZC,EAAY,cACZC,EAAa,UACbC,EAAS,aACTC,EAAY,oBACZC,EAAmB,sBACnBC,EAAqB,eACrBC,EAAc,kBACdC,EAAiB,iBACjBC,EAAgB,cAChBC,GACA/C,EAEEgD,EAAmB,CAAC,MAAO,SAAU,UACrCC,EAAeC,IACjB,MAAMC,EAAeC,OAAOF,GAE5B,OAAKE,OAAOC,SAASF,GAIdG,KAAKC,IA7EG,IA+EXD,KAAKE,IAAIrC,EAAoBgC,IALtBhC,GAQTsC,EAAsBT,EAAiBU,SAASZ,GAChDA,EACA,SACAa,EAAiB,cAAcF,IAE/BG,EAAmBX,EAAYF,GAE/Bc,GAAaC,EAAAA,EAAAA,eAAc,CAC7BpC,UAAW,CAAC,OAAQiC,GAAgBI,OAAOC,SAASC,KAAK,KACzDC,MAAO,CACH,wBAAyB,GAAGN,SAI9BO,GAAcC,EAAAA,EAAAA,SAAO,IACrB,YAAEhD,EAAc,KAAOiD,EAAAA,EAAAA,WACxBC,IAAM,CACHlD,YAAakD,EAAO,qBAAqBC,UAAUpC,KAEvD,CAACA,KAEC,mBAAEqC,IAAuBC,EAAAA,EAAAA,aAAY,qBAErCC,EAAuBC,IACzB,IAAKA,EACD,OAAO,EAGX,MAAM,MACFC,EACAC,cAAeC,EAAe,CAAC,EAAC,MAChCC,EAAQ,CAAC,GACTJ,EAEEK,EAAeF,GAAcF,MAC7BK,EAAgBF,GAAOG,MAAMN,MAEnC,OACII,GACGC,GACAL,GACA,GAILO,GAAYd,EAAAA,EAAAA,WACbC,GACGlC,EAAckC,EAAO,QAAQc,SAAShD,GAAe,KACzD,CAACA,KAGLiD,EAAAA,EAAAA,WAAU,KACN,IAAKjD,IAAgB+C,EACjB,OAGJ,MAAMG,EAAeZ,EAAoBS,GAErCG,GAAgBA,IAAiB1C,GACjCV,EAAc,CAAEU,eAAgB0C,KAErC,CAAClD,EAAaQ,EAAgBuC,EAAWjD,KAE5CmD,EAAAA,EAAAA,WAAU,KACN,GAAIlB,EAAYoB,QACZ,OAGJ,GAAInE,EAAYoE,OAAS,EAErB,YADArB,EAAYoB,SAAU,GAI1B,MAAME,EAAkB,GAoBxB,GAlBIxF,GACAwF,EAAgBC,MACZC,EAAAA,EAAAA,aAAY,eAAgB,CACxBlE,MAAO,EACPC,UAAW,iBACXE,QAAS3B,KAKjBI,GACAoF,EAAgBC,MACZC,EAAAA,EAAAA,aAAY,iBAAkB,CAC1B/D,QAASvB,KAKjBG,GAAcI,EAAY,CAC1B,MAAMgF,GAAaD,EAAAA,EAAAA,aAAY,4BAA6B,CACxDnF,WAAYA,GAAcuB,EAC1BnB,WAAYA,GAAc,KAG9B6E,EAAgBC,KAAKE,EACzB,CAE+B,IAA3BH,EAAgBD,SAIpBhB,EAAmBrC,EAAUsD,GAAiB,GAC9CtB,EAAYoB,SAAU,IACvB,CACC3E,EACAJ,EACA2B,EACAlC,EACAmB,EAAYoE,OACZhB,EACAnE,IAGJ,MASMwF,EAAgBA,KAClB3D,EAAc,CACVE,YAAa,EACbC,aAAc,GACdC,aAAc,GACdM,eAAgB,MAwDhBlB,UAAWoE,EAAyBC,OAAQC,GApDrBC,MAC3B,MAAMC,EAAiB,CACnB,gBAAiB,mBACjB,eAAgB,mBAChB,cAAe,mBACfC,OAAQ,yBAGNC,EAAU,CAAC,yBAEb7D,GACA6D,EAAQV,KAAK,yBAAyBnD,KAGtCM,GACAuD,EAAQV,KAAK,2BAGjB,MAAMK,EAAS,CACXM,QAAS5D,EAAe,KAIxBsD,EAAOnB,MADPhC,EAAiB,EACF,QAAQJ,aAAqBI,OAE7B,GAAGJ,MAGtB,MAAM8D,EAAiB,GAkBvB,OAhBIJ,EAAe3D,IACf+D,EAAeZ,KAAKQ,EAAe3D,IAGX,IAAxBG,GACA4D,EAAeZ,KAAK,cAAchD,QAGR,IAA1BC,GACA2D,EAAeZ,KAAK,cAAc/C,QAGlC2D,EAAed,OAAS,IACxBO,EAAOQ,UAAYD,EAAerC,KAAK,MAGpC,CACHvC,UAAW0E,EAAQnC,KAAK,KACxB8B,WAKJE,GAEJ,OACIO,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACIF,EAAAA,EAAAA,MAACG,EAAAA,kBAAiB,CAAAD,SAAA,EACdF,EAAAA,EAAAA,MAACI,EAAAA,UAAS,CACNC,OAAOpG,EAAAA,EAAAA,IAAG,aAAc,sBACxBqG,aAAa,EAAKJ,SAAA,EAElBK,EAAAA,EAAAA,KAACC,EAAAA,iBAAgB,CAAAN,UACbK,EAAAA,EAAAA,KAACE,EAAAA,YAAW,CACRC,SAlFDvC,IACnBzC,EAAc,CACVE,YAAauC,EAAMwC,GACnB9E,aAAcsC,EAAMyC,IACpB9E,aAAcqC,EAAM0C,KAAO,GAC3BzE,eAAgB8B,EAAoBC,MA8EpB2C,aAAc,CAAC,SACfpE,MAAOd,EACPmF,OAAQA,EAAGC,WACPT,EAAAA,EAAAA,KAAA,OAAK7C,MAAO,CAAEuD,aAAc,QAASf,SAC/BrE,GASEmE,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACIK,EAAAA,EAAAA,KAAA,OACIW,IAAKrF,EACLgF,IAAK/E,EACL4B,MAAO,CACHU,MAAO,OACP+C,OAAQ,OACRF,aAAc,MACdG,aAAc,UAGtBpB,EAAAA,EAAAA,MAAA,OAAKtC,MAAO,CAAE2D,QAAS,OAAQC,IAAK,OAAQpB,SAAA,EACxCK,EAAAA,EAAAA,KAACgB,EAAAA,OAAM,CACHC,QAASR,EACTS,QAAQ,YACR/D,MAAO,CAAEgE,KAAM,GAAIxB,UAElBjG,EAAAA,EAAAA,IAAG,gBAAiB,yBAEzBsG,EAAAA,EAAAA,KAACgB,EAAAA,OAAM,CACHC,QAASnC,EACToC,QAAQ,YACRE,eAAa,EAAAzB,UAEZjG,EAAAA,EAAAA,IAAG,SAAU,+BAhC1BsG,EAAAA,EAAAA,KAACgB,EAAAA,OAAM,CACHC,QAASR,EACTS,QAAQ,YACR/D,MAAO,CAAEU,MAAO,QAAS8B,UAExBjG,EAAAA,EAAAA,IAAG,oBAAqB,8BAqChD4B,IACGmE,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACIK,EAAAA,EAAAA,KAACqB,EAAAA,cAAa,CACVC,OAAO5H,EAAAA,EAAAA,IAAG,iBAAkB,sBAC5ByC,MAAOX,EACP+F,QAAS,CACL,CAAED,OAAO5H,EAAAA,EAAAA,IAAG,eAAgB,sBAAuByC,MAAO,gBAC1D,CAAEmF,OAAO5H,EAAAA,EAAAA,IAAG,cAAe,sBAAuByC,MAAO,eACzD,CAAEmF,OAAO5H,EAAAA,EAAAA,IAAG,gBAAiB,sBAAuByC,MAAO,iBAC3D,CAAEmF,OAAO5H,EAAAA,EAAAA,IAAG,eAAgB,sBAAuByC,MAAO,gBAC1D,CAAEmF,OAAO5H,EAAAA,EAAAA,IAAG,cAAe,sBAAuByC,MAAO,eACzD,CAAEmF,OAAO5H,EAAAA,EAAAA,IAAG,SAAU,sBAAuByC,MAAO,WAExDqF,SAAWrF,GAAUhB,EAAc,CAAEK,cAAeW,OAGxD6D,EAAAA,EAAAA,KAACyB,EAAAA,aAAY,CACTH,OAAO5H,EAAAA,EAAAA,IAAG,iBAAkB,sBAC5ByC,MAAOV,EACP+F,SAAWrF,GAAUhB,EAAc,CAAEM,UAAWU,IAChDK,IAAK,GACLC,IAAK,IACLiF,KAAM,KAGV1B,EAAAA,EAAAA,KAACyB,EAAAA,aAAY,CACTH,OAAO5H,EAAAA,EAAAA,IAAG,cAAe,sBACzByC,MAAOT,EACP8F,SAAWrF,GAAUhB,EAAc,CAAEO,aAAcS,IACnDK,IAAK,EACLC,IAAK,IACLiF,KAAM,KAGV1B,EAAAA,EAAAA,KAACyB,EAAAA,aAAY,CACTH,OAAO5H,EAAAA,EAAAA,IAAG,uBAAwB,sBAClCyC,MAAOR,EACP6F,SAAWrF,GAAUhB,EAAc,CAAEQ,oBAAqBQ,IAC1DK,KAAM,IACNC,IAAK,IACLiF,KAAM,GACNC,MAAMjI,EAAAA,EAAAA,IAAG,yCAA0C,yBAGvDsG,EAAAA,EAAAA,KAACyB,EAAAA,aAAY,CACTH,OAAO5H,EAAAA,EAAAA,IAAG,yBAA0B,sBACpCyC,MAAOP,EACP4F,SAAWrF,GAAUhB,EAAc,CAAES,sBAAuBO,IAC5DK,KAAM,IACNC,IAAK,IACLiF,KAAM,GACNC,MAAMjI,EAAAA,EAAAA,IAAG,4CAA6C,yBAG1DsG,EAAAA,EAAAA,KAAC4B,EAAAA,cAAa,CACVN,OAAO5H,EAAAA,EAAAA,IAAG,iBAAkB,sBAC5BmI,QAAS/F,EACT0F,SAAWrF,GAAUhB,EAAc,CAAEW,kBAAmBK,IACxDwF,MAAMjI,EAAAA,EAAAA,IAAG,+CAAgD,+BAKzE+F,EAAAA,EAAAA,MAACI,EAAAA,UAAS,CACNC,OAAOpG,EAAAA,EAAAA,IAAG,iBAAkB,sBAC5BqG,aAAa,EAAMJ,SAAA,EAEnBK,EAAAA,EAAAA,KAACqB,EAAAA,cAAa,CACVC,OAAO5H,EAAAA,EAAAA,IAAG,qBAAsB,sBAChCyC,MAAOO,EACP6E,QAAS,CACL,CACID,OAAO5H,EAAAA,EAAAA,IAAG,MAAO,sBACjByC,MAAO,OAEX,CACImF,OAAO5H,EAAAA,EAAAA,IAAG,SAAU,sBACpByC,MAAO,UAEX,CACImF,OAAO5H,EAAAA,EAAAA,IAAG,SAAU,sBACpByC,MAAO,WAGfqF,SAAWrF,IACHF,EAAiBU,SAASR,IAC1BhB,EAAc,CAAEY,iBAAkBI,QAI9C6D,EAAAA,EAAAA,KAACyB,EAAAA,aAAY,CACTH,OAAO5H,EAAAA,EAAAA,IAAG,yBAA0B,sBACpCyC,MAAOU,EACP2E,SAAWrF,GACPhB,EAAc,CAAEa,cAAeE,EAAYC,KAE/CK,IAAKpC,EACLqC,IA3aD,IA4aCiF,KAAM,GACNI,YAAU,EACVH,MAAMjI,EAAAA,EAAAA,IAAG,qEAAsE,4BAGvF+F,EAAAA,EAAAA,MAACI,EAAAA,UAAS,CACNC,OAAOpG,EAAAA,EAAAA,IAAG,yBAA0B,sBACpCqG,aAAa,EAAMJ,SAAA,EAEnBK,EAAAA,EAAAA,KAAC+B,EAAAA,YAAW,CACRT,OAAO5H,EAAAA,EAAAA,IAAG,uBAAwB,sBAClCyC,MAAO1C,QAAAA,EAAcF,EACrBiI,SAAWrF,GAAUhB,EAAc,CAAE1B,WAAY0C,IACjDvB,YAAarB,KAEjByG,EAAAA,EAAAA,KAAC+B,EAAAA,YAAW,CACRT,OAAO5H,EAAAA,EAAAA,IAAG,sBAAuB,sBACjCyC,MAAOtC,QAAAA,EAAcF,EACrB6H,SAAWrF,GAAUhB,EAAc,CAAEtB,WAAYsC,IACjDvB,YAAajB,IAAqBD,EAAAA,EAAAA,IAAG,yBAA0B,sBAC/DsI,KAAK,SAEThC,EAAAA,EAAAA,KAAC+B,EAAAA,YAAW,CACRT,OAAO5H,EAAAA,EAAAA,IAAG,yBAA0B,sBACpCyC,MAAOnC,QAAAA,EAAuBF,EAC9B0H,SAAWrF,GAAUhB,EAAc,CAAEnB,oBAAqBmC,IAC1DvB,YAAad,KAEjBkG,EAAAA,EAAAA,KAAC+B,EAAAA,YAAW,CACRT,OAAO5H,EAAAA,EAAAA,IAAG,wBAAyB,sBACnCyC,MAAOhC,QAAAA,EAAuBF,EAC9BuH,SAAWrF,GAAUhB,EAAc,CAAEhB,oBAAqBgC,IAC1DvB,YAAaX,EACb+H,KAAK,eAKjBvC,EAAAA,EAAAA,MAAA,cAAa3C,EAAU6C,SAAA,EACnBK,EAAAA,EAAAA,KAAA,OACIrF,UAAU,0BACV,cAAY,OACZsH,KAAK,iBAER3G,IACG0E,EAAAA,EAAAA,KAAA,OAAKrF,UAAWoE,EAAyB5B,MAAO8B,EAAYU,UACxDK,EAAAA,EAAAA,KAAA,OACIW,IAAKrF,EACLgF,IAAK/E,EACLZ,UAAU,8BAItBqF,EAAAA,EAAAA,KAAA,OAAKrF,UAAU,eAAcgF,UACzBK,EAAAA,EAAAA,KAACkC,EAAAA,YAAW,CACR5H,cAAgBC,EAChBC,SAAWC,EACXK,aAAeC,WAMvC,EACAoH,KAAIA,KACOnC,EAAAA,EAAAA,KAACkC,EAAAA,YAAYE,QAAO,K","sources":["webpack://mccullough-digital-theme/external window [\"wp\",\"blocks\"]","webpack://mccullough-digital-theme/external window [\"wp\",\"i18n\"]","webpack://mccullough-digital-theme/external window [\"wp\",\"element\"]","webpack://mccullough-digital-theme/external window [\"wp\",\"data\"]","webpack://mccullough-digital-theme/external window [\"wp\",\"blockEditor\"]","webpack://mccullough-digital-theme/external window [\"wp\",\"components\"]","webpack://mccullough-digital-theme/external window \"ReactJSXRuntime\"","webpack://mccullough-digital-theme/./blocks/hero/editor.js"],"sourcesContent":["const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blocks\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"i18n\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"element\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"data\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blockEditor\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"components\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"ReactJSXRuntime\"];","import { registerBlockType, createBlock } from '@wordpress/blocks';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { useEffect, useRef } from '@wordpress/element';\r\nimport { useSelect, useDispatch } from '@wordpress/data';\r\nimport {\r\n    useBlockProps,\r\n    InnerBlocks,\r\n    InspectorControls,\r\n    MediaUpload,\r\n    MediaUploadCheck,\r\n} from '@wordpress/block-editor';\nimport {\n    PanelBody,\n    Button,\n    SelectControl,\n    RangeControl,\n    ToggleControl,\n    TextControl,\n} from '@wordpress/components';\n\nimport metadata from './block.json';\n\nconst defaultHeadline = metadata?.attributes?.headline?.default ?? '';\nconst defaultSubheading = metadata?.attributes?.subheading?.default ?? '';\nconst defaultButtonText = metadata?.attributes?.buttonText?.default\n    ?? __('Start a Project', 'mccullough-digital');\nconst defaultButtonLink = metadata?.attributes?.buttonLink?.default ?? '';\nconst defaultSecondaryButtonText = metadata?.attributes?.secondaryButtonText?.default\n    ?? __('View Case Studies', 'mccullough-digital');\nconst defaultSecondaryButtonLink = metadata?.attributes?.secondaryButtonLink?.default ?? '#case-study';\nconst MIN_CONTENT_OFFSET = -300; // Allow moving content UP\r\nconst MAX_CONTENT_OFFSET = 240;\r\n\r\nconst {\r\n    innerBlocks: {\r\n        allowedBlocks: allowedHeroBlocks = [\r\n            'core/heading',\r\n            'core/paragraph',\r\n            'core/list',\r\n            'core/buttons',\r\n            'core/group',\r\n            'core/image',\r\n            'core/media-text',\r\n            'mccullough-digital/button',\r\n        ],\r\n        template: heroTemplate = [\r\n            [\r\n                'core/heading',\r\n                {\r\n                    level: 1,\r\n                    className: 'hero__headline',\r\n                    placeholder: __('Add hero headline…', 'mccullough-digital'),\r\n                    content: defaultHeadline,\r\n                },\r\n            ],\r\n            [\r\n                'core/paragraph',\r\n                {\r\n                    placeholder: __('Add supporting copy…', 'mccullough-digital'),\r\n                    content: defaultSubheading,\r\n                },\r\n            ],\r\n            [\r\n                'mccullough-digital/button',\r\n                {\r\n                    buttonText: defaultButtonText,\r\n                    buttonLink: defaultButtonLink,\r\n                },\r\n            ],\r\n        ],\r\n        templateLock: heroTemplateLock = false,\r\n    } = {},\r\n} = metadata;\r\n\r\nconst DEFAULT_BUTTON_TEXT = defaultButtonText;\r\n\r\nregisterBlockType(metadata.name, {\r\n    ...metadata,\r\n    edit({ attributes, setAttributes, clientId }) {\r\n        const { \r\n            headline, \r\n            subheading, \n            buttonText, \n            buttonLink,\n            secondaryButtonText,\n            secondaryButtonLink,\n            heroImageId,\n            heroImageUrl,\n            heroImageAlt,\r\n            imagePosition,\r\n            imageSize,\r\n            imageOpacity,\r\n            imageVerticalOffset,\r\n            imageHorizontalOffset,\r\n            heroImageWidth,\r\n            hideImageOnMobile,\r\n            contentAlignment,\r\n            contentOffset,\r\n        } = attributes;\r\n\r\n        const alignmentOptions = ['top', 'center', 'bottom'];\r\n        const clampOffset = (value) => {\r\n            const numericValue = Number(value);\r\n\r\n            if (!Number.isFinite(numericValue)) {\r\n                return MIN_CONTENT_OFFSET;\r\n            }\r\n\r\n            return Math.min(\r\n                MAX_CONTENT_OFFSET,\r\n                Math.max(MIN_CONTENT_OFFSET, numericValue)\r\n            );\r\n        };\r\n        const normalizedAlignment = alignmentOptions.includes(contentAlignment)\r\n            ? contentAlignment\r\n            : 'center';\r\n        const alignmentClass = `is-content-${normalizedAlignment}`;\r\n\r\n        const normalizedOffset = clampOffset(contentOffset);\r\n\r\n        const blockProps = useBlockProps({\r\n            className: ['hero', alignmentClass].filter(Boolean).join(' '),\r\n            style: {\r\n                '--hero-content-offset': `${normalizedOffset}px`,\r\n            },\r\n        });\r\n\r\n        const hasMigrated = useRef(false);\r\n        const { innerBlocks = [] } = useSelect(\r\n            (select) => ({\r\n                innerBlocks: select('core/block-editor').getBlocks(clientId),\r\n            }),\r\n            [clientId]\r\n        );\r\n        const { replaceInnerBlocks } = useDispatch('core/block-editor');\r\n\r\n        const extractNaturalWidth = (media) => {\r\n            if (!media) {\r\n                return 0;\r\n            }\r\n\r\n            const {\r\n                width,\r\n                media_details: mediaDetails = {},\r\n                sizes = {},\r\n            } = media;\r\n\r\n            const detailsWidth = mediaDetails?.width;\r\n            const fullSizeWidth = sizes?.full?.width;\r\n\r\n            return (\r\n                detailsWidth\r\n                || fullSizeWidth\r\n                || width\r\n                || 0\r\n            );\r\n        };\r\n\r\n        const heroMedia = useSelect(\r\n            (select) =>\r\n                heroImageId ? select('core').getMedia(heroImageId) : null,\r\n            [heroImageId]\r\n        );\r\n\r\n        useEffect(() => {\r\n            if (!heroImageId || !heroMedia) {\r\n                return;\r\n            }\r\n\r\n            const naturalWidth = extractNaturalWidth(heroMedia);\r\n\r\n            if (naturalWidth && naturalWidth !== heroImageWidth) {\r\n                setAttributes({ heroImageWidth: naturalWidth });\r\n            }\r\n        }, [heroImageId, heroImageWidth, heroMedia, setAttributes]);\r\n\r\n        useEffect(() => {\r\n            if (hasMigrated.current) {\r\n                return;\r\n            }\r\n\r\n            if (innerBlocks.length > 0) {\r\n                hasMigrated.current = true;\r\n                return;\r\n            }\r\n\r\n            const generatedBlocks = [];\r\n\r\n            if (headline) {\r\n                generatedBlocks.push(\r\n                    createBlock('core/heading', {\r\n                        level: 1,\r\n                        className: 'hero__headline',\r\n                        content: headline,\r\n                    })\r\n                );\r\n            }\r\n\r\n            if (subheading) {\r\n                generatedBlocks.push(\r\n                    createBlock('core/paragraph', {\r\n                        content: subheading,\r\n                    })\r\n                );\r\n            }\r\n\r\n            if (buttonText || buttonLink) {\r\n                const neonButton = createBlock('mccullough-digital/button', {\r\n                    buttonText: buttonText || DEFAULT_BUTTON_TEXT,\r\n                    buttonLink: buttonLink || '',\r\n                });\r\n\r\n                generatedBlocks.push(neonButton);\r\n            }\r\n\r\n            if (generatedBlocks.length === 0) {\r\n                return;\r\n            }\r\n\r\n            replaceInnerBlocks(clientId, generatedBlocks, false);\r\n            hasMigrated.current = true;\r\n        }, [\r\n            buttonLink,\r\n            buttonText,\r\n            clientId,\r\n            headline,\r\n            innerBlocks.length,\r\n            replaceInnerBlocks,\r\n            subheading,\r\n        ]);\r\n\r\n        const onSelectImage = (media) => {\r\n            setAttributes({\r\n                heroImageId: media.id,\r\n                heroImageUrl: media.url,\r\n                heroImageAlt: media.alt || '',\r\n                heroImageWidth: extractNaturalWidth(media),\r\n            });\r\n        };\r\n\r\n        const onRemoveImage = () => {\r\n            setAttributes({\r\n                heroImageId: 0,\r\n                heroImageUrl: '',\r\n                heroImageAlt: '',\r\n                heroImageWidth: 0,\r\n            });\r\n        };\r\n\r\n        const buildImagePresentation = () => {\r\n            const baseTransforms = {\r\n                'bottom-center': 'translateX(-50%)',\r\n                'center-right': 'translateY(-50%)',\r\n                'center-left': 'translateY(-50%)',\r\n                center: 'translate(-50%, -50%)',\r\n            };\r\n\r\n            const classes = ['hero__image-container'];\r\n\r\n            if (imagePosition) {\r\n                classes.push(`hero__image-position--${imagePosition}`);\r\n            }\r\n\r\n            if (hideImageOnMobile) {\r\n                classes.push('hero__image-hide-mobile');\r\n            }\r\n\r\n            const styles = {\r\n                opacity: imageOpacity / 100,\r\n            };\r\n\r\n            if (heroImageWidth > 0) {\r\n                styles.width = `calc(${imageSize} / 100 * ${heroImageWidth}px)`;\r\n            } else {\r\n                styles.width = `${imageSize}vw`;\r\n            }\r\n\r\n            const transformParts = [];\r\n\r\n            if (baseTransforms[imagePosition]) {\r\n                transformParts.push(baseTransforms[imagePosition]);\r\n            }\r\n\r\n            if (imageVerticalOffset !== 0) {\r\n                transformParts.push(`translateY(${imageVerticalOffset}px)`);\r\n            }\r\n\r\n            if (imageHorizontalOffset !== 0) {\r\n                transformParts.push(`translateX(${imageHorizontalOffset}px)`);\r\n            }\r\n\r\n            if (transformParts.length > 0) {\r\n                styles.transform = transformParts.join(' ');\r\n            }\r\n\r\n            return {\r\n                className: classes.join(' '),\r\n                styles,\r\n            };\r\n        };\r\n\r\n        const { className: imageContainerClassName, styles: imageStyles } =\r\n            buildImagePresentation();\r\n\r\n        return (\r\n            <>\r\n                <InspectorControls>\r\n                    <PanelBody\r\n                        title={__('Hero Image', 'mccullough-digital')}\r\n                        initialOpen={true}\r\n                    >\r\n                        <MediaUploadCheck>\r\n                            <MediaUpload\r\n                                onSelect={onSelectImage}\r\n                                allowedTypes={['image']}\r\n                                value={heroImageId}\r\n                                render={({ open }) => (\r\n                                    <div style={{ marginBottom: '16px' }}>\r\n                                        {!heroImageUrl ? (\r\n                                            <Button\r\n                                                onClick={open}\r\n                                                variant=\"secondary\"\r\n                                                style={{ width: '100%' }}\r\n                                            >\r\n                                                {__('Select Hero Image', 'mccullough-digital')}\r\n                                            </Button>\r\n                                        ) : (\r\n                                            <>\r\n                                                <img\r\n                                                    src={heroImageUrl}\r\n                                                    alt={heroImageAlt}\r\n                                                    style={{\r\n                                                        width: '100%',\r\n                                                        height: 'auto',\r\n                                                        marginBottom: '8px',\r\n                                                        borderRadius: '4px',\r\n                                                    }}\r\n                                                />\r\n                                                <div style={{ display: 'flex', gap: '8px' }}>\r\n                                                    <Button\r\n                                                        onClick={open}\r\n                                                        variant=\"secondary\"\r\n                                                        style={{ flex: 1 }}\r\n                                                    >\r\n                                                        {__('Replace Image', 'mccullough-digital')}\r\n                                                    </Button>\r\n                                                    <Button\r\n                                                        onClick={onRemoveImage}\r\n                                                        variant=\"secondary\"\r\n                                                        isDestructive\r\n                                                    >\r\n                                                        {__('Remove', 'mccullough-digital')}\r\n                                                    </Button>\r\n                                                </div>\r\n                                            </>\r\n                                        )}\r\n                                    </div>\r\n                                )}\r\n                            />\r\n                        </MediaUploadCheck>\r\n\r\n                        {heroImageUrl && (\r\n                            <>\r\n                                <SelectControl\r\n                                    label={__('Image Position', 'mccullough-digital')}\r\n                                    value={imagePosition}\r\n                                    options={[\r\n                                        { label: __('Bottom Right', 'mccullough-digital'), value: 'bottom-right' },\r\n                                        { label: __('Bottom Left', 'mccullough-digital'), value: 'bottom-left' },\r\n                                        { label: __('Bottom Center', 'mccullough-digital'), value: 'bottom-center' },\r\n                                        { label: __('Center Right', 'mccullough-digital'), value: 'center-right' },\r\n                                        { label: __('Center Left', 'mccullough-digital'), value: 'center-left' },\r\n                                        { label: __('Center', 'mccullough-digital'), value: 'center' },\r\n                                    ]}\r\n                                    onChange={(value) => setAttributes({ imagePosition: value })}\r\n                                />\r\n\r\n                                <RangeControl\r\n                                    label={__('Image Size (%)', 'mccullough-digital')}\r\n                                    value={imageSize}\r\n                                    onChange={(value) => setAttributes({ imageSize: value })}\r\n                                    min={10}\r\n                                    max={200}\r\n                                    step={5}\r\n                                />\r\n\r\n                                <RangeControl\r\n                                    label={__('Opacity (%)', 'mccullough-digital')}\r\n                                    value={imageOpacity}\r\n                                    onChange={(value) => setAttributes({ imageOpacity: value })}\r\n                                    min={0}\r\n                                    max={100}\r\n                                    step={5}\r\n                                />\r\n\r\n                                <RangeControl\r\n                                    label={__('Vertical Offset (px)', 'mccullough-digital')}\r\n                                    value={imageVerticalOffset}\r\n                                    onChange={(value) => setAttributes({ imageVerticalOffset: value })}\r\n                                    min={-200}\r\n                                    max={200}\r\n                                    step={10}\r\n                                    help={__('Positive moves down, negative moves up', 'mccullough-digital')}\r\n                                />\r\n\r\n                                <RangeControl\r\n                                    label={__('Horizontal Offset (px)', 'mccullough-digital')}\r\n                                    value={imageHorizontalOffset}\r\n                                    onChange={(value) => setAttributes({ imageHorizontalOffset: value })}\r\n                                    min={-200}\r\n                                    max={200}\r\n                                    step={10}\r\n                                    help={__('Positive moves right, negative moves left', 'mccullough-digital')}\r\n                                />\r\n\r\n                                <ToggleControl\r\n                                    label={__('Hide on Mobile', 'mccullough-digital')}\r\n                                    checked={hideImageOnMobile}\r\n                                    onChange={(value) => setAttributes({ hideImageOnMobile: value })}\r\n                                    help={__('Hide the image on screens smaller than 768px', 'mccullough-digital')}\r\n                                />\r\n                            </>\r\n                        )}\r\n                    </PanelBody>\r\n                    <PanelBody\n                        title={__('Content Layout', 'mccullough-digital')}\n                        initialOpen={false}\n                    >\n                        <SelectControl\r\n                            label={__('Vertical Alignment', 'mccullough-digital')}\r\n                            value={normalizedAlignment}\r\n                            options={[\r\n                                {\r\n                                    label: __('Top', 'mccullough-digital'),\r\n                                    value: 'top',\r\n                                },\r\n                                {\r\n                                    label: __('Center', 'mccullough-digital'),\r\n                                    value: 'center',\r\n                                },\r\n                                {\r\n                                    label: __('Bottom', 'mccullough-digital'),\r\n                                    value: 'bottom',\r\n                                },\r\n                            ]}\r\n                            onChange={(value) => {\r\n                                if (alignmentOptions.includes(value)) {\r\n                                    setAttributes({ contentAlignment: value });\r\n                                }\r\n                            }}\r\n                        />\r\n                        <RangeControl\r\n                            label={__('Vertical Position (px)', 'mccullough-digital')}\r\n                            value={normalizedOffset}\r\n                            onChange={(value) =>\r\n                                setAttributes({ contentOffset: clampOffset(value) })\r\n                            }\r\n                            min={MIN_CONTENT_OFFSET}\r\n                            max={MAX_CONTENT_OFFSET}\r\n                            step={10}\r\n                            allowReset\r\n                            help={__('Negative values move content UP, positive values move content DOWN', 'mccullough-digital')}\r\n                        />\r\n                    </PanelBody>\n                    <PanelBody\n                        title={__('Call to Action Buttons', 'mccullough-digital')}\n                        initialOpen={false}\n                    >\n                        <TextControl\n                            label={__('Primary button label', 'mccullough-digital')}\n                            value={buttonText ?? defaultButtonText}\n                            onChange={(value) => setAttributes({ buttonText: value })}\n                            placeholder={defaultButtonText}\n                        />\n                        <TextControl\n                            label={__('Primary button link', 'mccullough-digital')}\n                            value={buttonLink ?? defaultButtonLink}\n                            onChange={(value) => setAttributes({ buttonLink: value })}\n                            placeholder={defaultButtonLink || __('Add URL, e.g. #contact', 'mccullough-digital')}\n                            type=\"url\"\n                        />\n                        <TextControl\n                            label={__('Secondary button label', 'mccullough-digital')}\n                            value={secondaryButtonText ?? defaultSecondaryButtonText}\n                            onChange={(value) => setAttributes({ secondaryButtonText: value })}\n                            placeholder={defaultSecondaryButtonText}\n                        />\n                        <TextControl\n                            label={__('Secondary button link', 'mccullough-digital')}\n                            value={secondaryButtonLink ?? defaultSecondaryButtonLink}\n                            onChange={(value) => setAttributes({ secondaryButtonLink: value })}\n                            placeholder={defaultSecondaryButtonLink}\n                            type=\"url\"\n                        />\n                    </PanelBody>\n                </InspectorControls>\n\n                <section {...blockProps}>\n                    <div\r\n                        className=\"hero-canvas-placeholder\"\r\n                        aria-hidden=\"true\"\r\n                        role=\"presentation\"\r\n                    />\r\n                    {heroImageUrl && (\r\n                        <div className={imageContainerClassName} style={imageStyles}>\r\n                            <img\r\n                                src={heroImageUrl}\r\n                                alt={heroImageAlt}\r\n                                className=\"hero__decorative-image\"\r\n                            />\r\n                        </div>\r\n                    )}\r\n                    <div className=\"hero-content\">\r\n                        <InnerBlocks\r\n                            allowedBlocks={ allowedHeroBlocks }\r\n                            template={ heroTemplate }\r\n                            templateLock={ heroTemplateLock }\r\n                        />\r\n                    </div>\r\n                </section>\r\n            </>\r\n        );\r\n    },\r\n    save() {\r\n        return <InnerBlocks.Content />;\r\n    },\r\n});\r\n"],"names":["window","defaultHeadline","_metadata$attributes$","metadata","attributes","headline","default","defaultSubheading","_metadata$attributes$2","subheading","defaultButtonText","_metadata$attributes$3","buttonText","__","defaultButtonLink","_metadata$attributes$4","buttonLink","defaultSecondaryButtonText","_metadata$attributes$5","secondaryButtonText","defaultSecondaryButtonLink","_metadata$attributes$6","secondaryButtonLink","MIN_CONTENT_OFFSET","innerBlocks","allowedBlocks","allowedHeroBlocks","template","heroTemplate","level","className","placeholder","content","templateLock","heroTemplateLock","DEFAULT_BUTTON_TEXT","registerBlockType","edit","setAttributes","clientId","heroImageId","heroImageUrl","heroImageAlt","imagePosition","imageSize","imageOpacity","imageVerticalOffset","imageHorizontalOffset","heroImageWidth","hideImageOnMobile","contentAlignment","contentOffset","alignmentOptions","clampOffset","value","numericValue","Number","isFinite","Math","min","max","normalizedAlignment","includes","alignmentClass","normalizedOffset","blockProps","useBlockProps","filter","Boolean","join","style","hasMigrated","useRef","useSelect","select","getBlocks","replaceInnerBlocks","useDispatch","extractNaturalWidth","media","width","media_details","mediaDetails","sizes","detailsWidth","fullSizeWidth","full","heroMedia","getMedia","useEffect","naturalWidth","current","length","generatedBlocks","push","createBlock","neonButton","onRemoveImage","imageContainerClassName","styles","imageStyles","buildImagePresentation","baseTransforms","center","classes","opacity","transformParts","transform","_jsxs","_Fragment","children","InspectorControls","PanelBody","title","initialOpen","_jsx","MediaUploadCheck","MediaUpload","onSelect","id","url","alt","allowedTypes","render","open","marginBottom","src","height","borderRadius","display","gap","Button","onClick","variant","flex","isDestructive","SelectControl","label","options","onChange","RangeControl","step","help","ToggleControl","checked","allowReset","TextControl","type","role","InnerBlocks","save","Content"],"sourceRoot":""}