{"version":3,"file":"blocks/about/editor.js","mappings":"mBAAA,MAAM,EAA+BA,OAAc,MCA7C,EAA+BA,OAAW,GAAU,OCApD,EAA+BA,OAAW,GAAQ,KCAlD,EAA+BA,OAAW,GAAW,QCArD,EAA+BA,OAAW,GAAQ,KCAlD,EAA+BA,OAAW,GAAe,Y,+mECQ/D,MAAMC,EAAyD,QAA1CC,EAAGC,GAAUC,YAAYC,UAAUC,eAAO,IAAAJ,EAAAA,EAAI,GAC7DK,EAAiD,QAAtCC,EAAGL,GAAUC,YAAYK,MAAMH,eAAO,IAAAE,EAAAA,EAAI,IAGvDE,aACIC,cAAeC,EAAqB,CAChC,eACA,iBACA,YACA,aACA,aACA,eACA,eAEJC,SAAUC,EAAgB,CACtB,CACI,eACA,CACIC,MAAO,EACPC,UAAW,gBACXC,aAAaC,EAAAA,EAAAA,IAAG,sBAAuB,sBACvCC,QAASlB,IAGjB,CACI,iBACA,CACIgB,aAAaC,EAAAA,EAAAA,IAAG,kBAAmB,sBACnCC,QAASZ,IAGjB,CACI,iBACA,CACIU,aAAaC,EAAAA,EAAAA,IAAG,4BAA6B,sBAC7CC,QACI,iMAGZ,CACI,iBACA,CACIF,aAAaC,EAAAA,EAAAA,IAAG,uBAAwB,sBACxCC,QACI,uJAGZ,CACI,eACA,CACIC,OAAQ,CACJC,KAAM,OACNC,eAAgB,SAGxB,CACI,CACI,cACA,CACIN,UAAW,gBACXP,KAAM,kBACNc,IAAK,eAMzBC,aAAcC,GAAoB,GAClC,CAAC,GACLtB,GAEJuB,EAAAA,EAAAA,mBAAkBvB,EAAAA,KAAe,IAC1BA,EACHwB,IAAAA,EAAK,WAAEvB,EAAU,SAAEwB,IACf,MAAM,SAAEvB,EAAQ,KAAEI,GAASL,EACrByB,GAAaC,EAAAA,EAAAA,iBAEbC,GAAcC,EAAAA,EAAAA,SAAO,IACrB,YAAEtB,IAAgBuB,EAAAA,EAAAA,WACnBC,IAAM,CACHxB,YAAawB,EAAO,qBAAqBC,UAAUP,KAEvD,CAACA,KAEC,mBAAEQ,IAAuBC,EAAAA,EAAAA,aAAY,qBAwC3C,OAtCAC,EAAAA,EAAAA,WAAU,KACN,GAAIP,EAAYQ,QACZ,OAGJ,GAAI7B,EAAY8B,OAAS,EAErB,YADAT,EAAYQ,SAAU,GAI1B,MAAME,EAAkB,GAEpBpC,GACAoC,EAAgBC,MACZC,EAAAA,EAAAA,aAAY,eAAgB,CACxB5B,MAAO,EACPC,UAAW,gBACXG,QAASd,KAKjBI,GACAgC,EAAgBC,MACZC,EAAAA,EAAAA,aAAY,iBAAkB,CAC1BxB,QAASV,KAKU,IAA3BgC,EAAgBD,SAIpBJ,EAAmBR,EAAUa,GAAiB,GAC9CV,EAAYQ,SAAU,IACvB,CAACX,EAAUvB,EAAUK,EAAY8B,OAAQJ,EAAoB3B,KAG5DmC,EAAAA,EAAAA,eAAA,cAAaf,IACTe,EAAAA,EAAAA,eAAA,OAAK5B,UAAU,cACX4B,EAAAA,EAAAA,eAACC,EAAAA,YAAW,CACRlC,cAAgBC,EAChBC,SAAWC,EACXU,aAAeC,KAKnC,EACAqB,KAAIA,KACOF,EAAAA,EAAAA,eAACC,EAAAA,YAAYE,QAAO,O","sources":["webpack://mccullough-digital-theme/external window \"React\"","webpack://mccullough-digital-theme/external window [\"wp\",\"blocks\"]","webpack://mccullough-digital-theme/external window [\"wp\",\"i18n\"]","webpack://mccullough-digital-theme/external window [\"wp\",\"element\"]","webpack://mccullough-digital-theme/external window [\"wp\",\"data\"]","webpack://mccullough-digital-theme/external window [\"wp\",\"blockEditor\"]","webpack://mccullough-digital-theme/./blocks/about/editor.js"],"sourcesContent":["const __WEBPACK_NAMESPACE_OBJECT__ = window[\"React\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blocks\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"i18n\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"element\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"data\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blockEditor\"];","import { registerBlockType, createBlock } from '@wordpress/blocks';\nimport { __ } from '@wordpress/i18n';\nimport { useEffect, useRef } from '@wordpress/element';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { useBlockProps, InnerBlocks } from '@wordpress/block-editor';\n\nimport metadata from './block.json';\n\nconst defaultHeadline = metadata?.attributes?.headline?.default ?? '';\nconst defaultText = metadata?.attributes?.text?.default ?? '';\n\nconst {\n    innerBlocks: {\n        allowedBlocks: allowedAboutBlocks = [\n            'core/heading',\n            'core/paragraph',\n            'core/list',\n            'core/group',\n            'core/image',\n            'core/buttons',\n            'core/button',\n        ],\n        template: aboutTemplate = [\n            [\n                'core/heading',\n                {\n                    level: 2,\n                    className: 'section-title',\n                    placeholder: __('Add about headline…', 'mccullough-digital'),\n                    content: defaultHeadline,\n                },\n            ],\n            [\n                'core/paragraph',\n                {\n                    placeholder: __('Add about text…', 'mccullough-digital'),\n                    content: defaultText,\n                },\n            ],\n            [\n                'core/paragraph',\n                {\n                    placeholder: __('Add founder introduction…', 'mccullough-digital'),\n                    content:\n                        \"As the founder, I bring a passion for technology and a deep understanding of what it takes to get noticed online. We're not just a service provider; we're your dedicated digital launchpad.\",\n                },\n            ],\n            [\n                'core/paragraph',\n                {\n                    placeholder: __('Add proof statement…', 'mccullough-digital'),\n                    content:\n                        'We integrate everything—from your website and social media to your Google Business Profile and ad campaigns—into one cohesive strategy for growth.',\n                },\n            ],\n            [\n                'core/buttons',\n                {\n                    layout: {\n                        type: 'flex',\n                        justifyContent: 'left',\n                    },\n                },\n                [\n                    [\n                        'core/button',\n                        {\n                            className: 'is-style-fill',\n                            text: 'Learn Our Story',\n                            url: '/about/',\n                        },\n                    ],\n                ],\n            ],\n        ],\n        templateLock: aboutTemplateLock = false,\n    } = {},\n} = metadata;\n\nregisterBlockType(metadata.name, {\n    ...metadata,\n    edit({ attributes, clientId }) {\n        const { headline, text } = attributes;\n        const blockProps = useBlockProps();\n\n        const hasMigrated = useRef(false);\n        const { innerBlocks } = useSelect(\n            (select) => ({\n                innerBlocks: select('core/block-editor').getBlocks(clientId),\n            }),\n            [clientId]\n        );\n        const { replaceInnerBlocks } = useDispatch('core/block-editor');\n\n        useEffect(() => {\n            if (hasMigrated.current) {\n                return;\n            }\n\n            if (innerBlocks.length > 0) {\n                hasMigrated.current = true;\n                return;\n            }\n\n            const generatedBlocks = [];\n\n            if (headline) {\n                generatedBlocks.push(\n                    createBlock('core/heading', {\n                        level: 2,\n                        className: 'section-title',\n                        content: headline,\n                    })\n                );\n            }\n\n            if (text) {\n                generatedBlocks.push(\n                    createBlock('core/paragraph', {\n                        content: text,\n                    })\n                );\n            }\n\n            if (generatedBlocks.length === 0) {\n                return;\n            }\n\n            replaceInnerBlocks(clientId, generatedBlocks, false);\n            hasMigrated.current = true;\n        }, [clientId, headline, innerBlocks.length, replaceInnerBlocks, text]);\n\n        return (\n            <section {...blockProps}>\n                <div className=\"container\">\n                    <InnerBlocks\n                        allowedBlocks={ allowedAboutBlocks }\n                        template={ aboutTemplate }\n                        templateLock={ aboutTemplateLock }\n                    />\n                </div>\n            </section>\n        );\n    },\n    save() {\n        return <InnerBlocks.Content />;\n    },\n});\n"],"names":["window","defaultHeadline","_metadata$attributes$","metadata","attributes","headline","default","defaultText","_metadata$attributes$2","text","innerBlocks","allowedBlocks","allowedAboutBlocks","template","aboutTemplate","level","className","placeholder","__","content","layout","type","justifyContent","url","templateLock","aboutTemplateLock","registerBlockType","edit","clientId","blockProps","useBlockProps","hasMigrated","useRef","useSelect","select","getBlocks","replaceInnerBlocks","useDispatch","useEffect","current","length","generatedBlocks","push","createBlock","createElement","InnerBlocks","save","Content"],"sourceRoot":""}