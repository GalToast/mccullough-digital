{"version":3,"file":"blocks/about/editor.js","mappings":"mBAAA,MAAM,EAA+BA,OAAW,GAAU,OCApD,EAA+BA,OAAW,GAAQ,KCAlD,EAA+BA,OAAW,GAAW,QCArD,EAA+BA,OAAW,GAAQ,KCAlD,EAA+BA,OAAW,GAAe,Y,s+DCAzD,EAA+BA,OAAwB,gB,QCQ7D,MAAMC,EAAyD,QAA1CC,EAAGC,GAAUC,YAAYC,UAAUC,eAAO,IAAAJ,EAAAA,EAAI,GAC7DK,EAAiD,QAAtCC,EAAGL,GAAUC,YAAYK,MAAMH,eAAO,IAAAE,EAAAA,EAAI,IAGvDE,aACIC,cAAeC,EAAqB,CAChC,eACA,iBACA,YACA,aACA,aACA,eACA,cACA,6BAEJC,SAAUC,EAAgB,CACtB,CACI,eACA,CACIC,MAAO,EACPC,UAAW,gBACXC,aAAaC,EAAAA,EAAAA,IAAG,sBAAuB,sBACvCC,QAASlB,IAGjB,CACI,iBACA,CACIgB,aAAaC,EAAAA,EAAAA,IAAG,kBAAmB,sBACnCC,QAASZ,IAGjB,CACI,iBACA,CACIU,aAAaC,EAAAA,EAAAA,IAAG,4BAA6B,sBAC7CC,QACI,iMAGZ,CACI,iBACA,CACIF,aAAaC,EAAAA,EAAAA,IAAG,uBAAwB,sBACxCC,QACI,wJAIhBC,aAAcC,GAAoB,GAClC,CAAC,GACLlB,GAEJmB,EAAAA,EAAAA,mBAAkBnB,EAAAA,KAAe,IAC1BA,EACHoB,IAAAA,EAAK,WAAEnB,EAAU,SAAEoB,IACf,MAAM,SAAEnB,EAAQ,KAAEI,GAASL,EACrBqB,GAAaC,EAAAA,EAAAA,iBAEbC,GAAcC,EAAAA,EAAAA,SAAO,IACrB,YAAElB,IAAgBmB,EAAAA,EAAAA,WACnBC,IAAM,CACHpB,YAAaoB,EAAO,qBAAqBC,UAAUP,KAEvD,CAACA,KAEC,mBAAEQ,IAAuBC,EAAAA,EAAAA,aAAY,qBAwC3C,OAtCAC,EAAAA,EAAAA,WAAU,KACN,GAAIP,EAAYQ,QACZ,OAGJ,GAAIzB,EAAY0B,OAAS,EAErB,YADAT,EAAYQ,SAAU,GAI1B,MAAME,EAAkB,GAEpBhC,GACAgC,EAAgBC,MACZC,EAAAA,EAAAA,aAAY,eAAgB,CACxBxB,MAAO,EACPC,UAAW,gBACXG,QAASd,KAKjBI,GACA4B,EAAgBC,MACZC,EAAAA,EAAAA,aAAY,iBAAkB,CAC1BpB,QAASV,KAKU,IAA3B4B,EAAgBD,SAIpBJ,EAAmBR,EAAUa,GAAiB,GAC9CV,EAAYQ,SAAU,IACvB,CAACX,EAAUnB,EAAUK,EAAY0B,OAAQJ,EAAoBvB,KAG5D+B,EAAAA,EAAAA,KAAA,cAAaf,EAAUgB,UACnBD,EAAAA,EAAAA,KAAA,OAAKxB,UAAU,YAAWyB,UACtBD,EAAAA,EAAAA,KAACE,EAAAA,YAAW,CACR/B,cAAgBC,EAChBC,SAAWC,EACXM,aAAeC,OAKnC,EACAsB,KAAIA,KACOH,EAAAA,EAAAA,KAACE,EAAAA,YAAYE,QAAO,K","sources":["webpack://mccullough-digital-theme/external window [\"wp\",\"blocks\"]","webpack://mccullough-digital-theme/external window [\"wp\",\"i18n\"]","webpack://mccullough-digital-theme/external window [\"wp\",\"element\"]","webpack://mccullough-digital-theme/external window [\"wp\",\"data\"]","webpack://mccullough-digital-theme/external window [\"wp\",\"blockEditor\"]","webpack://mccullough-digital-theme/external window \"ReactJSXRuntime\"","webpack://mccullough-digital-theme/./blocks/about/editor.js"],"sourcesContent":["const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blocks\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"i18n\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"element\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"data\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blockEditor\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"ReactJSXRuntime\"];","import { registerBlockType, createBlock } from '@wordpress/blocks';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { useEffect, useRef } from '@wordpress/element';\r\nimport { useSelect, useDispatch } from '@wordpress/data';\r\nimport { useBlockProps, InnerBlocks } from '@wordpress/block-editor';\r\n\r\nimport metadata from './block.json';\r\n\r\nconst defaultHeadline = metadata?.attributes?.headline?.default ?? '';\r\nconst defaultText = metadata?.attributes?.text?.default ?? '';\r\n\r\nconst {\r\n    innerBlocks: {\r\n        allowedBlocks: allowedAboutBlocks = [\r\n            'core/heading',\r\n            'core/paragraph',\r\n            'core/list',\r\n            'core/group',\r\n            'core/image',\r\n            'core/buttons',\r\n            'core/button',\r\n            'mccullough-digital/button',\r\n        ],\r\n        template: aboutTemplate = [\r\n            [\r\n                'core/heading',\r\n                {\r\n                    level: 2,\r\n                    className: 'section-title',\r\n                    placeholder: __('Add about headline…', 'mccullough-digital'),\r\n                    content: defaultHeadline,\r\n                },\r\n            ],\r\n            [\r\n                'core/paragraph',\r\n                {\r\n                    placeholder: __('Add about text…', 'mccullough-digital'),\r\n                    content: defaultText,\r\n                },\r\n            ],\r\n            [\r\n                'core/paragraph',\r\n                {\r\n                    placeholder: __('Add founder introduction…', 'mccullough-digital'),\r\n                    content:\r\n                        \"As the founder, I bring a passion for technology and a deep understanding of what it takes to get noticed online. We're not just a service provider; we're your dedicated digital launchpad.\",\r\n                },\r\n            ],\r\n            [\r\n                'core/paragraph',\r\n                {\r\n                    placeholder: __('Add proof statement…', 'mccullough-digital'),\r\n                    content:\r\n                        'We integrate everything—from your website and social media to your Google Business Profile and ad campaigns—into one cohesive strategy for growth.',\r\n                },\r\n            ],\r\n        ],\r\n        templateLock: aboutTemplateLock = false,\r\n    } = {},\r\n} = metadata;\r\n\r\nregisterBlockType(metadata.name, {\r\n    ...metadata,\r\n    edit({ attributes, clientId }) {\r\n        const { headline, text } = attributes;\r\n        const blockProps = useBlockProps();\r\n\r\n        const hasMigrated = useRef(false);\r\n        const { innerBlocks } = useSelect(\r\n            (select) => ({\r\n                innerBlocks: select('core/block-editor').getBlocks(clientId),\r\n            }),\r\n            [clientId]\r\n        );\r\n        const { replaceInnerBlocks } = useDispatch('core/block-editor');\r\n\r\n        useEffect(() => {\r\n            if (hasMigrated.current) {\r\n                return;\r\n            }\r\n\r\n            if (innerBlocks.length > 0) {\r\n                hasMigrated.current = true;\r\n                return;\r\n            }\r\n\r\n            const generatedBlocks = [];\r\n\r\n            if (headline) {\r\n                generatedBlocks.push(\r\n                    createBlock('core/heading', {\r\n                        level: 2,\r\n                        className: 'section-title',\r\n                        content: headline,\r\n                    })\r\n                );\r\n            }\r\n\r\n            if (text) {\r\n                generatedBlocks.push(\r\n                    createBlock('core/paragraph', {\r\n                        content: text,\r\n                    })\r\n                );\r\n            }\r\n\r\n            if (generatedBlocks.length === 0) {\r\n                return;\r\n            }\r\n\r\n            replaceInnerBlocks(clientId, generatedBlocks, false);\r\n            hasMigrated.current = true;\r\n        }, [clientId, headline, innerBlocks.length, replaceInnerBlocks, text]);\r\n\r\n        return (\r\n            <section {...blockProps}>\r\n                <div className=\"container\">\r\n                    <InnerBlocks\r\n                        allowedBlocks={ allowedAboutBlocks }\r\n                        template={ aboutTemplate }\r\n                        templateLock={ aboutTemplateLock }\r\n                    />\r\n                </div>\r\n            </section>\r\n        );\r\n    },\r\n    save() {\r\n        return <InnerBlocks.Content />;\r\n    },\r\n});\r\n"],"names":["window","defaultHeadline","_metadata$attributes$","metadata","attributes","headline","default","defaultText","_metadata$attributes$2","text","innerBlocks","allowedBlocks","allowedAboutBlocks","template","aboutTemplate","level","className","placeholder","__","content","templateLock","aboutTemplateLock","registerBlockType","edit","clientId","blockProps","useBlockProps","hasMigrated","useRef","useSelect","select","getBlocks","replaceInnerBlocks","useDispatch","useEffect","current","length","generatedBlocks","push","createBlock","_jsx","children","InnerBlocks","save","Content"],"sourceRoot":""}