{"version":3,"file":"blocks/about/editor.js","mappings":"mBAAA,MAAM,EAA+BA,OAAW,GAAU,OCApD,EAA+BA,OAAW,GAAQ,KCAlD,EAA+BA,OAAW,GAAW,QCArD,EAA+BA,OAAW,GAAQ,KCAlD,EAA+BA,OAAW,GAAe,Y,s+DCAzD,EAA+BA,OAAwB,gB,QCQ7D,MAAMC,EAAyD,QAA1CC,EAAGC,GAAUC,YAAYC,UAAUC,eAAO,IAAAJ,EAAAA,EAAI,GAC7DK,EAAiD,QAAtCC,EAAGL,GAAUC,YAAYK,MAAMH,eAAO,IAAAE,EAAAA,EAAI,IAG1DE,aACCC,cAAeC,EAAqB,CACnC,eACA,iBACA,YACA,aACA,aACA,eACA,cACA,6BAEDC,SAAUC,EAAgB,CACzB,CACC,eACA,CACCC,MAAO,EACPC,UAAW,gBACXC,aAAaC,EAAAA,EAAAA,IACZ,sBACA,sBAEDC,QAASlB,IAGX,CACC,iBACA,CACCgB,aAAaC,EAAAA,EAAAA,IAAI,kBAAmB,sBACpCC,QAASZ,IAGX,CACC,iBACA,CACCU,aAAaC,EAAAA,EAAAA,IACZ,4BACA,sBAEDC,QACC,iMAGH,CACC,iBACA,CACCF,aAAaC,EAAAA,EAAAA,IACZ,uBACA,sBAEDC,QACC,wJAIJC,aAAcC,GAAoB,GAC/B,CAAC,GACFlB,GAEJmB,EAAAA,EAAAA,mBAAmBnB,EAAAA,KAAe,IAC9BA,EACHoB,KAAM,UAAe,WAAEnB,EAAU,SAAEoB,IAClC,MAAM,SAAEnB,EAAQ,KAAEI,GAASL,EACrBqB,GAAaC,EAAAA,EAAAA,iBAEbC,GAAcC,EAAAA,EAAAA,SAAQ,IACtB,YAAElB,IAAgBmB,EAAAA,EAAAA,WACrBC,IAAM,CACPpB,YACCoB,EAAQ,qBAAsBC,UAAWP,KAE3C,CAAEA,KAEG,mBAAEQ,IAAuBC,EAAAA,EAAAA,aAAa,qBA8C5C,OA5CAC,EAAAA,EAAAA,WAAW,KACV,GAAKP,EAAYQ,QAChB,OAGD,GAAKzB,EAAY0B,OAAS,EAEzB,YADAT,EAAYQ,SAAU,GAIvB,MAAME,EAAkB,GAEnBhC,GACJgC,EAAgBC,MACfC,EAAAA,EAAAA,aAAa,eAAgB,CAC5BxB,MAAO,EACPC,UAAW,gBACXG,QAASd,KAKPI,GACJ4B,EAAgBC,MACfC,EAAAA,EAAAA,aAAa,iBAAkB,CAC9BpB,QAASV,KAKoB,IAA3B4B,EAAgBD,SAIrBJ,EAAoBR,EAAUa,GAAiB,GAC/CV,EAAYQ,SAAU,IACpB,CACFX,EACAnB,EACAK,EAAY0B,OACZJ,EACAvB,KAIA+B,EAAAA,EAAAA,KAAA,cAAcf,EAAUgB,UACvBD,EAAAA,EAAAA,KAAA,OAAKxB,UAAU,YAAWyB,UACzBD,EAAAA,EAAAA,KAACE,EAAAA,YAAW,CACX/B,cAAgBC,EAChBC,SAAWC,EACXM,aAAeC,OAKpB,EACAsB,KAAIA,KACIH,EAAAA,EAAAA,KAACE,EAAAA,YAAYE,QAAO,K","sources":["webpack://mccullough-digital-theme/external window [\"wp\",\"blocks\"]","webpack://mccullough-digital-theme/external window [\"wp\",\"i18n\"]","webpack://mccullough-digital-theme/external window [\"wp\",\"element\"]","webpack://mccullough-digital-theme/external window [\"wp\",\"data\"]","webpack://mccullough-digital-theme/external window [\"wp\",\"blockEditor\"]","webpack://mccullough-digital-theme/external window \"ReactJSXRuntime\"","webpack://mccullough-digital-theme/./blocks/about/editor.js"],"sourcesContent":["const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blocks\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"i18n\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"element\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"data\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blockEditor\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"ReactJSXRuntime\"];","import { registerBlockType, createBlock } from '@wordpress/blocks';\nimport { __ } from '@wordpress/i18n';\nimport { useEffect, useRef } from '@wordpress/element';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { useBlockProps, InnerBlocks } from '@wordpress/block-editor';\n\nimport metadata from './block.json';\n\nconst defaultHeadline = metadata?.attributes?.headline?.default ?? '';\nconst defaultText = metadata?.attributes?.text?.default ?? '';\n\nconst {\n\tinnerBlocks: {\n\t\tallowedBlocks: allowedAboutBlocks = [\n\t\t\t'core/heading',\n\t\t\t'core/paragraph',\n\t\t\t'core/list',\n\t\t\t'core/group',\n\t\t\t'core/image',\n\t\t\t'core/buttons',\n\t\t\t'core/button',\n\t\t\t'mccullough-digital/button',\n\t\t],\n\t\ttemplate: aboutTemplate = [\n\t\t\t[\n\t\t\t\t'core/heading',\n\t\t\t\t{\n\t\t\t\t\tlevel: 2,\n\t\t\t\t\tclassName: 'section-title',\n\t\t\t\t\tplaceholder: __(\n\t\t\t\t\t\t'Add about headline…',\n\t\t\t\t\t\t'mccullough-digital'\n\t\t\t\t\t),\n\t\t\t\t\tcontent: defaultHeadline,\n\t\t\t\t},\n\t\t\t],\n\t\t\t[\n\t\t\t\t'core/paragraph',\n\t\t\t\t{\n\t\t\t\t\tplaceholder: __( 'Add about text…', 'mccullough-digital' ),\n\t\t\t\t\tcontent: defaultText,\n\t\t\t\t},\n\t\t\t],\n\t\t\t[\n\t\t\t\t'core/paragraph',\n\t\t\t\t{\n\t\t\t\t\tplaceholder: __(\n\t\t\t\t\t\t'Add founder introduction…',\n\t\t\t\t\t\t'mccullough-digital'\n\t\t\t\t\t),\n\t\t\t\t\tcontent:\n\t\t\t\t\t\t\"As the founder, I bring a passion for technology and a deep understanding of what it takes to get noticed online. We're not just a service provider; we're your dedicated digital launchpad.\",\n\t\t\t\t},\n\t\t\t],\n\t\t\t[\n\t\t\t\t'core/paragraph',\n\t\t\t\t{\n\t\t\t\t\tplaceholder: __(\n\t\t\t\t\t\t'Add proof statement…',\n\t\t\t\t\t\t'mccullough-digital'\n\t\t\t\t\t),\n\t\t\t\t\tcontent:\n\t\t\t\t\t\t'We integrate everything—from your website and social media to your Google Business Profile and ad campaigns—into one cohesive strategy for growth.',\n\t\t\t\t},\n\t\t\t],\n\t\t],\n\t\ttemplateLock: aboutTemplateLock = false,\n\t} = {},\n} = metadata;\n\nregisterBlockType( metadata.name, {\n\t...metadata,\n\tedit: function Edit( { attributes, clientId } ) {\n\t\tconst { headline, text } = attributes;\n\t\tconst blockProps = useBlockProps();\n\n\t\tconst hasMigrated = useRef( false );\n\t\tconst { innerBlocks } = useSelect(\n\t\t\t( select ) => ( {\n\t\t\t\tinnerBlocks:\n\t\t\t\t\tselect( 'core/block-editor' ).getBlocks( clientId ),\n\t\t\t} ),\n\t\t\t[ clientId ]\n\t\t);\n\t\tconst { replaceInnerBlocks } = useDispatch( 'core/block-editor' );\n\n\t\tuseEffect( () => {\n\t\t\tif ( hasMigrated.current ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( innerBlocks.length > 0 ) {\n\t\t\t\thasMigrated.current = true;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst generatedBlocks = [];\n\n\t\t\tif ( headline ) {\n\t\t\t\tgeneratedBlocks.push(\n\t\t\t\t\tcreateBlock( 'core/heading', {\n\t\t\t\t\t\tlevel: 2,\n\t\t\t\t\t\tclassName: 'section-title',\n\t\t\t\t\t\tcontent: headline,\n\t\t\t\t\t} )\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif ( text ) {\n\t\t\t\tgeneratedBlocks.push(\n\t\t\t\t\tcreateBlock( 'core/paragraph', {\n\t\t\t\t\t\tcontent: text,\n\t\t\t\t\t} )\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif ( generatedBlocks.length === 0 ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\treplaceInnerBlocks( clientId, generatedBlocks, false );\n\t\t\thasMigrated.current = true;\n\t\t}, [\n\t\t\tclientId,\n\t\t\theadline,\n\t\t\tinnerBlocks.length,\n\t\t\treplaceInnerBlocks,\n\t\t\ttext,\n\t\t] );\n\n\t\treturn (\n\t\t\t<section { ...blockProps }>\n\t\t\t\t<div className=\"container\">\n\t\t\t\t\t<InnerBlocks\n\t\t\t\t\t\tallowedBlocks={ allowedAboutBlocks }\n\t\t\t\t\t\ttemplate={ aboutTemplate }\n\t\t\t\t\t\ttemplateLock={ aboutTemplateLock }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t);\n\t},\n\tsave() {\n\t\treturn <InnerBlocks.Content />;\n\t},\n} );\n"],"names":["window","defaultHeadline","_metadata$attributes$","metadata","attributes","headline","default","defaultText","_metadata$attributes$2","text","innerBlocks","allowedBlocks","allowedAboutBlocks","template","aboutTemplate","level","className","placeholder","__","content","templateLock","aboutTemplateLock","registerBlockType","edit","clientId","blockProps","useBlockProps","hasMigrated","useRef","useSelect","select","getBlocks","replaceInnerBlocks","useDispatch","useEffect","current","length","generatedBlocks","push","createBlock","_jsx","children","InnerBlocks","save","Content"],"sourceRoot":""}