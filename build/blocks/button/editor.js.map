{"version":3,"file":"blocks/button/editor.js","mappings":"mBAAA,MAAM,EAA+BA,OAAc,MCA7C,EAA+BA,OAAW,GAAU,OCApD,EAA+BA,OAAW,GAAQ,KCAlD,EAA+BA,OAAW,GAAW,QCArD,EAA+BA,OAAW,GAAe,YCAzD,EAA+BA,OAAW,GAAc,W,6tBCmB9DC,EAAAA,EAAAA,mBAAmBC,EAAAA,KAAe,IAC3BA,EACHC,IAAAA,EAAM,WAAEC,EAAU,cAAEC,IAChB,MAAM,WAAEC,EAAU,WAAEC,EAAU,cAAEC,GAAkBJ,EAC5CK,EACFP,GAAUE,YAAYE,YAAYI,UAClCC,EAAAA,EAAAA,IAAG,kBAAmB,uBAE1BC,EAAAA,EAAAA,WAAW,KACAN,GAAoC,KAAtBA,EAAWO,QAC5BR,EAAe,CAAEC,WAAYG,KAElC,CAAEH,EAAYG,EAAmBJ,IACpC,MAAMS,GAAaC,EAAAA,EAAAA,eAAe,CAC9BC,UAAW,qBAITC,EAAoB,CACtBD,UAFoB,+BAKnBT,IACDU,EAAkBC,KAAOX,EACpBC,IACDS,EAAkBE,OAAS,SAC3BF,EAAkBG,IAAM,YAE5BH,EAAkBI,QAAYC,IAC1BA,EAAMC,mBAId,MAAMC,EAAYjB,EAAa,IAAM,SAErC,OACIkB,EAAAA,EAAAA,eAAAC,EAAAA,SAAA,MACID,EAAAA,EAAAA,eAACE,EAAAA,cAAa,MACVF,EAAAA,EAAAA,eAACG,EAAAA,aAAY,MACTH,EAAAA,EAAAA,eAACI,EAAAA,eAAc,CACXC,IAAMvB,EACNwB,SAAaD,GACTzB,EAAe,CAAEE,WAAYuB,QAAAA,EAAO,UAKpDL,EAAAA,EAAAA,eAACO,EAAAA,kBAAiB,MACdP,EAAAA,EAAAA,eAACQ,EAAAA,UAAS,CAACC,OAAQvB,EAAAA,EAAAA,IAAG,kBAAmB,wBACrCc,EAAAA,EAAAA,eAACU,EAAAA,cAAa,CACVC,OAAQzB,EAAAA,EAAAA,IAAG,kBAAmB,sBAC9B0B,QAAU7B,EACVuB,SAAYO,GAAUjC,EAAc,CAAEG,cAAe8B,IACrDC,MAAO5B,EAAAA,EAAAA,IAAG,6DAA8D,sBACxE6B,UAAajC,OAIzBkB,EAAAA,EAAAA,eAAA,UAAUX,IACNW,EAAAA,EAAAA,eAACD,EAAS,IAAMP,EAAoBwB,KAAOlC,OAAamC,EAAY,WAChEjB,EAAAA,EAAAA,eAACkB,EAAAA,SAAQ,CACLC,QAAQ,OACR5B,UAAU,yBACVsB,MAAQhC,QAAAA,EAAc,GACtByB,SAAYO,GAAUjC,EAAc,CAAEC,WAAYgC,IAClDO,eAAiB,GACjBC,aAAcnC,EAAAA,EAAAA,IAAG,mBAAoB,0BAGzCJ,IACAkB,EAAAA,EAAAA,eAACsB,EAAAA,OAAM,CACHC,OAAO,OACPC,eAAgB,EAChBjC,UAAU,kCAERL,EAAAA,EAAAA,IAAG,4EAA6E,wBAM1G,EACAuC,KAAIA,IACO,M","sources":["webpack://mccullough-digital-theme/external window \"React\"","webpack://mccullough-digital-theme/external window [\"wp\",\"blocks\"]","webpack://mccullough-digital-theme/external window [\"wp\",\"i18n\"]","webpack://mccullough-digital-theme/external window [\"wp\",\"element\"]","webpack://mccullough-digital-theme/external window [\"wp\",\"blockEditor\"]","webpack://mccullough-digital-theme/external window [\"wp\",\"components\"]","webpack://mccullough-digital-theme/./blocks/button/editor.js"],"sourcesContent":["const __WEBPACK_NAMESPACE_OBJECT__ = window[\"React\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blocks\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"i18n\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"element\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blockEditor\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"components\"];","import { registerBlockType } from '@wordpress/blocks';\nimport { __ } from '@wordpress/i18n';\nimport { useEffect } from '@wordpress/element';\nimport {\n    useBlockProps,\n    RichText,\n    BlockControls,\n    URLInputButton,\n    InspectorControls,\n} from '@wordpress/block-editor';\nimport {\n    PanelBody,\n    ToggleControl,\n    Notice,\n    ToolbarGroup,\n} from '@wordpress/components';\n\nimport metadata from './block.json';\n\nregisterBlockType( metadata.name, {\n    ...metadata,\n    edit( { attributes, setAttributes } ) {\n        const { buttonText, buttonLink, opensInNewTab } = attributes;\n        const defaultButtonText =\n            metadata?.attributes?.buttonText?.default ||\n            __('Start a Project', 'mccullough-digital');\n\n        useEffect( () => {\n            if ( ! buttonText || buttonText.trim() === '' ) {\n                setAttributes( { buttonText: defaultButtonText } );\n            }\n        }, [ buttonText, defaultButtonText, setAttributes ] );\n        const blockProps = useBlockProps( {\n            className: 'mcd-button-block',\n        } );\n\n        const buttonBaseClass = 'cta-button hero__cta-button';\n        const commonButtonProps = {\n            className: buttonBaseClass,\n        };\n\n        if ( buttonLink ) {\n            commonButtonProps.href = buttonLink;\n            if ( opensInNewTab ) {\n                commonButtonProps.target = '_blank';\n                commonButtonProps.rel = 'noopener';\n            }\n            commonButtonProps.onClick = ( event ) => {\n                event.preventDefault();\n            };\n        }\n\n        const ButtonTag = buttonLink ? 'a' : 'button';\n\n        return (\n            <>\n                <BlockControls>\n                    <ToolbarGroup>\n                        <URLInputButton\n                            url={ buttonLink }\n                            onChange={ ( url ) =>\n                                setAttributes( { buttonLink: url ?? '' } )\n                            }\n                        />\n                    </ToolbarGroup>\n                </BlockControls>\n                <InspectorControls>\n                    <PanelBody title={ __('Button Settings', 'mccullough-digital') }>\n                        <ToggleControl\n                            label={ __('Open in new tab', 'mccullough-digital') }\n                            checked={ opensInNewTab }\n                            onChange={ (value) => setAttributes({ opensInNewTab: value }) }\n                            help={ __('Adds target=\"_blank\" and rel=\"noopener\" when a URL is set.', 'mccullough-digital') }\n                            disabled={ ! buttonLink }\n                        />\n                    </PanelBody>\n                </InspectorControls>\n                <div { ...blockProps }>\n                    <ButtonTag { ...commonButtonProps } type={ buttonLink ? undefined : 'button' }>\n                        <RichText\n                            tagName=\"span\"\n                            className=\"hero__cta-button-label\"\n                            value={ buttonText ?? '' }\n                            onChange={ (value) => setAttributes({ buttonText: value }) }\n                            allowedFormats={ [] }\n                            placeholder={ __('Add button textâ€¦', 'mccullough-digital') }\n                        />\n                    </ButtonTag>\n                    { ! buttonLink && (\n                        <Notice\n                            status=\"info\"\n                            isDismissible={ false }\n                            className=\"mcd-button-block__link-notice\"\n                        >\n                            { __('Add a link from the toolbar to output an anchor element on the front end.', 'mccullough-digital') }\n                        </Notice>\n                    ) }\n                </div>\n            </>\n        );\n    },\n    save() {\n        return null;\n    },\n});\n"],"names":["window","registerBlockType","metadata","edit","attributes","setAttributes","buttonText","buttonLink","opensInNewTab","defaultButtonText","default","__","useEffect","trim","blockProps","useBlockProps","className","commonButtonProps","href","target","rel","onClick","event","preventDefault","ButtonTag","createElement","Fragment","BlockControls","ToolbarGroup","URLInputButton","url","onChange","InspectorControls","PanelBody","title","ToggleControl","label","checked","value","help","disabled","type","undefined","RichText","tagName","allowedFormats","placeholder","Notice","status","isDismissible","save"],"sourceRoot":""}