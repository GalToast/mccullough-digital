{"version":3,"file":"blocks/button/editor.js","mappings":"mBAAA,MAAM,EAA+BA,OAAW,GAAU,OCApD,EAA+BA,OAAW,GAAQ,KCAlD,EAA+BA,OAAW,GAAW,QCArD,EAA+BA,OAAW,GAAe,YCAzD,EAA+BA,OAAW,GAAc,W,4tBCAxD,EAA+BA,OAAwB,iBCmB7DC,EAAAA,EAAAA,mBAAmBC,EAAAA,KAAe,IAC9BA,EACHC,KAAM,UAAe,WAAEC,EAAU,cAAEC,IAClC,MAAM,WAAEC,EAAU,WAAEC,EAAU,cAAEC,GAAkBJ,EAC5CK,EACLP,GAAUE,YAAYE,YAAYI,UAClCC,EAAAA,EAAAA,IAAI,kBAAmB,uBAGxBC,EAAAA,EAAAA,WAAW,UACUC,IAAfP,GACJD,EAAe,CAAEC,WAAYG,KAE5B,CAAEH,EAAYG,EAAmBJ,IACpC,MAAMS,GAAaC,EAAAA,EAAAA,eAAe,CACjCC,UAAW,qBAINC,EAAoB,CACzBD,UAFuB,+BAKnBT,IACJU,EAAkBC,KAAOX,EACpBC,IACJS,EAAkBE,OAAS,SAC3BF,EAAkBG,IAAM,YAEzBH,EAAkBI,QAAYC,IAC7BA,EAAMC,mBAIR,MAAMC,EAAYjB,EAAa,IAAM,SAErC,OACCkB,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACCC,EAAAA,EAAAA,KAACC,EAAAA,cAAa,CAAAF,UACbC,EAAAA,EAAAA,KAACE,EAAAA,aAAY,CAAAH,UACZC,EAAAA,EAAAA,KAACG,EAAAA,eAAc,CACdC,IAAMzB,EACN0B,SAAaD,GACZ3B,EAAe,CAAEE,WAAYyB,QAAAA,EAAO,YAKxCJ,EAAAA,EAAAA,KAACM,EAAAA,kBAAiB,CAAAP,UACjBC,EAAAA,EAAAA,KAACO,EAAAA,UAAS,CACTC,OAAQzB,EAAAA,EAAAA,IAAI,kBAAmB,sBAAwBgB,UAEvDC,EAAAA,EAAAA,KAACS,EAAAA,cAAa,CACbC,OAAQ3B,EAAAA,EAAAA,IACP,kBACA,sBAED4B,QAAU/B,EACVyB,SAAaO,GACZnC,EAAe,CAAEG,cAAegC,IAEjCC,MAAO9B,EAAAA,EAAAA,IACN,6DACA,sBAED+B,UAAanC,SAIhBkB,EAAAA,EAAAA,MAAA,UAAUX,EAAUa,SAAA,EACnBC,EAAAA,EAAAA,KAACJ,EAAS,IACJP,EACL0B,KAAOpC,OAAaM,EAAY,SAAUc,UAE1CC,EAAAA,EAAAA,KAACgB,EAAAA,SAAQ,CACRC,QAAQ,OACR7B,UAAU,yBACVwB,MAAQlC,QAAAA,EAAc,GACtB2B,SAAaO,GACZnC,EAAe,CAAEC,WAAYkC,IAE9BM,eAAiB,GACjBC,aAAcpC,EAAAA,EAAAA,IACb,mBACA,2BAICJ,IACHqB,EAAAA,EAAAA,KAACoB,EAAAA,OAAM,CACNC,OAAO,OACPC,eAAgB,EAChBlC,UAAU,gCAA+BW,UAEvChB,EAAAA,EAAAA,IACD,4EACA,6BAOP,EACAwC,KAAIA,IACI,M","sources":["webpack://mccullough-digital-theme/external window [\"wp\",\"blocks\"]","webpack://mccullough-digital-theme/external window [\"wp\",\"i18n\"]","webpack://mccullough-digital-theme/external window [\"wp\",\"element\"]","webpack://mccullough-digital-theme/external window [\"wp\",\"blockEditor\"]","webpack://mccullough-digital-theme/external window [\"wp\",\"components\"]","webpack://mccullough-digital-theme/external window \"ReactJSXRuntime\"","webpack://mccullough-digital-theme/./blocks/button/editor.js"],"sourcesContent":["const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blocks\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"i18n\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"element\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blockEditor\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"components\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"ReactJSXRuntime\"];","import { registerBlockType } from '@wordpress/blocks';\nimport { __ } from '@wordpress/i18n';\nimport { useEffect } from '@wordpress/element';\nimport {\n\tuseBlockProps,\n\tRichText,\n\tBlockControls,\n\tURLInputButton,\n\tInspectorControls,\n} from '@wordpress/block-editor';\nimport {\n\tPanelBody,\n\tToggleControl,\n\tNotice,\n\tToolbarGroup,\n} from '@wordpress/components';\n\nimport metadata from './block.json';\n\nregisterBlockType( metadata.name, {\n\t...metadata,\n\tedit: function Edit( { attributes, setAttributes } ) {\n\t\tconst { buttonText, buttonLink, opensInNewTab } = attributes;\n\t\tconst defaultButtonText =\n\t\t\tmetadata?.attributes?.buttonText?.default ||\n\t\t\t__( 'Start a Project', 'mccullough-digital' );\n\n\t\t// Only set default text on initial mount if buttonText is undefined (not just empty)\n\t\tuseEffect( () => {\n\t\t\tif ( buttonText === undefined ) {\n\t\t\t\tsetAttributes( { buttonText: defaultButtonText } );\n\t\t\t}\n\t\t}, [ buttonText, defaultButtonText, setAttributes ] );\n\t\tconst blockProps = useBlockProps( {\n\t\t\tclassName: 'mcd-button-block',\n\t\t} );\n\n\t\tconst buttonBaseClass = 'cta-button hero__cta-button';\n\t\tconst commonButtonProps = {\n\t\t\tclassName: buttonBaseClass,\n\t\t};\n\n\t\tif ( buttonLink ) {\n\t\t\tcommonButtonProps.href = buttonLink;\n\t\t\tif ( opensInNewTab ) {\n\t\t\t\tcommonButtonProps.target = '_blank';\n\t\t\t\tcommonButtonProps.rel = 'noopener';\n\t\t\t}\n\t\t\tcommonButtonProps.onClick = ( event ) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t};\n\t\t}\n\n\t\tconst ButtonTag = buttonLink ? 'a' : 'button';\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<BlockControls>\n\t\t\t\t\t<ToolbarGroup>\n\t\t\t\t\t\t<URLInputButton\n\t\t\t\t\t\t\turl={ buttonLink }\n\t\t\t\t\t\t\tonChange={ ( url ) =>\n\t\t\t\t\t\t\t\tsetAttributes( { buttonLink: url ?? '' } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ToolbarGroup>\n\t\t\t\t</BlockControls>\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<PanelBody\n\t\t\t\t\t\ttitle={ __( 'Button Settings', 'mccullough-digital' ) }\n\t\t\t\t\t>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t\t'Open in new tab',\n\t\t\t\t\t\t\t\t'mccullough-digital'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tchecked={ opensInNewTab }\n\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\tsetAttributes( { opensInNewTab: value } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t'Adds target=\"_blank\" and rel=\"noopener\" when a URL is set.',\n\t\t\t\t\t\t\t\t'mccullough-digital'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tdisabled={ ! buttonLink }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</InspectorControls>\n\t\t\t\t<div { ...blockProps }>\n\t\t\t\t\t<ButtonTag\n\t\t\t\t\t\t{ ...commonButtonProps }\n\t\t\t\t\t\ttype={ buttonLink ? undefined : 'button' }\n\t\t\t\t\t>\n\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\ttagName=\"span\"\n\t\t\t\t\t\t\tclassName=\"hero__cta-button-label\"\n\t\t\t\t\t\t\tvalue={ buttonText ?? '' }\n\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\tsetAttributes( { buttonText: value } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tallowedFormats={ [] }\n\t\t\t\t\t\t\tplaceholder={ __(\n\t\t\t\t\t\t\t\t'Add button textâ€¦',\n\t\t\t\t\t\t\t\t'mccullough-digital'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ButtonTag>\n\t\t\t\t\t{ ! buttonLink && (\n\t\t\t\t\t\t<Notice\n\t\t\t\t\t\t\tstatus=\"info\"\n\t\t\t\t\t\t\tisDismissible={ false }\n\t\t\t\t\t\t\tclassName=\"mcd-button-block__link-notice\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t'Add a link from the toolbar to output an anchor element on the front end.',\n\t\t\t\t\t\t\t\t'mccullough-digital'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</Notice>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t</>\n\t\t);\n\t},\n\tsave() {\n\t\treturn null;\n\t},\n} );\n"],"names":["window","registerBlockType","metadata","edit","attributes","setAttributes","buttonText","buttonLink","opensInNewTab","defaultButtonText","default","__","useEffect","undefined","blockProps","useBlockProps","className","commonButtonProps","href","target","rel","onClick","event","preventDefault","ButtonTag","_jsxs","_Fragment","children","_jsx","BlockControls","ToolbarGroup","URLInputButton","url","onChange","InspectorControls","PanelBody","title","ToggleControl","label","checked","value","help","disabled","type","RichText","tagName","allowedFormats","placeholder","Notice","status","isDismissible","save"],"sourceRoot":""}